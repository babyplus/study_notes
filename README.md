# 内核_中断和异常_Interrupts_and_Exceptions  

*20230728*  

Interrupts are often devided into synchronous and asynchronous interrupts:

* Synchronous interrupts are produced by the CPU control unit while executing instructions and are called synchronous because the control unit issues them only after terminating the execution of an instruction
* Asynchronous interrupts are generated by other hardware devices at arbitrary times with respect to the CPU clock signals

中断通常分为同步中断和异步中断：

* 同步中断是指当指令执行时由CPU控制单元产生的，之所以称为同步，是因为只有在一条指令终止执行后CPU才会发出中断
* 异步中断是由其他硬件设备依照CPU时钟信号随机产生的

## 中断信号的作用 The Role of Interrupt Signals

When a interrupt signal arrives, the CPU must stop what it`s currently doing and switch to a new activity.

当一个中断信号达到时，CPU必须停止它当前正在做的事情，并且切换到一个新的活动。

## 中断和异常 Interrupts and Exceptions

Intel microprocessor manuals designate synchronous and asynchronous interrupts as exceptions and interrupts.

在Intel微处理器手册中，同步中断被称为异常，异步中断被称为中断。

Exceptions are caused either by programming errors or by anomalous conditions that must be handled by the kernel

* Faults
* Traps
* Aborts
* Programmed exceptions

异常：由程序产生的或者是由内核必须处理的异常条件产生的

* 故障
* 陷阱
* 异常中止
* 编程异常

Interrupts are issued by interval timers and I/O devices

* Maskable interrupts
* Nonmaskable interrupts

中断：由间隔定时器和I/O设备产生的

* 可屏蔽中断
* 非屏蔽中断

Each exception or interrupt is identified by a number ranging from 0 to 255.

每个异常和中断是由0~255之间的一个数来标识。

### IRQ和中断 IRQs and Interrupts

#### 高级可编程中断控制器 The Advanced Programmable Interrupt Controller (APIC)

### 异常 Exceptions

### 中断描述符表 Interrupt Descriptor Table (IDT)

### 中断和异常的硬件处理 Hardware Handling of Interrupts and Exceptions

## 中断和异常处理程序的嵌套执行 Nested Execution of Exception and Interrupt Handles

## 初始化中断描述符表 Initiallizing the Interrupt Descriptor Table

### 中断门、陷阱门及系统门 Interrupt,Trap, and System Gates

### IDT的初步初始化 Preliminary Initialization of the IDT

## 异常处理 Exception Handling

### 为异常处理程序保存寄存器的值 Saving the Registers for the Exception Handler

### 进入和离开异常处理程序 Entering and Leaving the Exception Handler

## 中断处理 Interrupt Handling

### I/O中断处理 I/O Interrupte Handling

### 处理器间中断处理 Interprocessor Interrupt Handling

## 软中断及tasklet Softirqs and Tasklets

### 软中断 Softirqs

### Tasklets

## 工作队列 Work Queues

## 从中断和异常返回 Returning from Interrupts and Exceptions